<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Company</title>

        <link href="bootstrap-4.3.1/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
        <link href="css/main.css" rel="stylesheet" type="text/css">
      
        <script src="js/jquery-3.4.1.min.js"></script>
        <script src="bootstrap-4.3.1/js/bootstrap.min.js"></script>
    </head>
    <body class="body">
		<div class="main-header">  			
			<object type="image/svg+xml" data="icon.svg" class="company-logo">
			   Your browser does not support SVG
			</object>  			
			<div class="burger-menu__button" onclick="openMenu()">
				<span class="burger-menu__button-title">Menu</span>
				<span class="burger-menu__button-icon icons">
					<i class="fa fa-bars fa-lg" aria-hidden="true"></i>
				</span>
			</div>							
			<nav class='navigation'>
				<ul class='navigation__pages-titles'>
					<li>
						<a href="index.html" Title="Home" class="unactive-link">Home
						</a>
					</li>
					<li>
						<a href="headlines.html" Title="Headlines" class="unactive-link">Headlines
						</a>
					</li>
					<li>
						<a href="page1.html" Title="Page With A Really-Really-Really Loooong Title" class="unactive-link">Page With A Really-Really-Really Loooong Title
						</a>					
					</li>
					<li>
						<a href="page2.html" Title="Page 2" class="unactive-link">Page 2 
						</a>
					</li>
					<li>
						<a href="page3.html" Title="Page 3" class="active-link">Page 3
						</a>
					</li>
					<li>
						<a href="page4.html" Title="Page 4" class="unactive-link">Page 4
						</a>
					</li>
					<li>
						<a href="page5.html" Title="Page 5" class="unactive-link">Page 5
						</a>
					</li>
				</ul>
				<button>More <i class="fa fa-angle-down" aria-hidden="true"> </i> </button>
				<ul class='overflow hidden'></ul>
			</nav>
        </div>
		<div class="burger-menu">		
			<ul class="burger-menu__nav"> 
				 <div class="burger-menu__close">
					<a href="javascript:void(0)" onclick="closeMenu()"><i class="fa fa-times fa-1x close__icon"></i></a>
				</div>
			</ul>
		</div>
    </body>
	<script>
		'use strict';
		$(function() {
			$('.navigation__pages-titles li').clone().appendTo($('.burger-menu__nav'));
			$('.burger-menu__nav li').addClass('burger-menu__link');
			$('.burger-menu__nav li').removeClass('pages-titles__link');

			var $more_btn = $('.navigation button');
			
			var $titles = $('.navigation .navigation__pages-titles');
			var $overflow = $('.navigation .overflow');
		
			var titlesAmount = 0;
			var totalSpace = 0;
			var widths = [];

			$titles.children().outerWidth(function(i, w) {
				totalSpace += w;
				titlesAmount += 1;
				widths.push(totalSpace);
			});

			var  visibleTitles, availableSpace, requiredSpace;

			function checkTitlesWidths() {
				availableSpace = $titles.width();
				visibleTitles = $titles.children().length;
				requiredSpace = widths[visibleTitles - 1];		
			
				while (requiredSpace > availableSpace) {
					$titles.children().last().prependTo($overflow);
					visibleTitles -= 1;	
																					
					if (visibleTitles = 0)
						break; 
						
					availableSpace = $titles.width();
					visibleTitles = $titles.children().length;
					requiredSpace = widths[visibleTitles - 1];

				} 
				
				while (availableSpace > widths[visibleTitles]) {
					$overflow.children().first().appendTo($titles);
					visibleTitles += 1;
															
					if (visibleTitles == titlesAmount)
						break;
									
					availableSpace = $titles.width();
					visibleTitles = $titles.children().length;
					requiredSpace = widths[visibleTitles - 1];					
				}
				
				if (titlesAmount == visibleTitles)
					$more_btn.hide();
				else 
					$more_btn.show();
			}

			$(window).resize(function() {
				checkTitlesWidths();
			});

			$more_btn.on('click', function() {			
				$overflow.toggleClass('hidden');
			});

			checkTitlesWidths();
							
		});
	</script>
</html>
